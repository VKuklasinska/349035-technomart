var hasStorage=function(){try{return localStorage.setItem(mod,mod),localStorage.removeItem(mod),!0}catch(a){return!1}}();if(hasStorage)var loginStorage=localStorage.getItem("name"),mailStorage=localStorage.getItem("mail");var overlay=document.querySelector(".modal-overlay"),link=document.querySelector(".contact-btn");if(link){var popup=document.querySelector(".modal-content-write-us"),close=popup.querySelector(".close-btn"),form=popup.querySelector("form"),login=popup.querySelector("[name=user-name]"),mail=popup.querySelector("[name=email]"),message=popup.querySelector("textarea");link.addEventListener("click",function(a){a.preventDefault(),popup.classList.add("modal-content-show"),hasStorage?(loginStorage?(login.value=loginStorage,mail.focus()):login.focus(),mailStorage?(mail.value=mailStorage,message.focus()):mail.focus()):loginStorage||mailStorage||login.focus(),overlay.classList.add("modal-overlay-show")}),close.addEventListener("click",function(a){a.preventDefault(),popup.classList.remove("modal-content-show"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-overlay-show")}),form.addEventListener("submit",function(a){a.preventDefault(),login.value&&mail.value&&message.value?hasStorage&&(localStorage.setItem("login",login.value),localStorage.setItem("mail",mail.value)):popup.classList.add("modal-error")}),window.addEventListener("keydown",function(a){27===a.keyCode&&popup.classList.contains("modal-content-show")&&(popup.classList.remove("modal-content-show"),popup.classList.remove("modal-error"),overlay.classList.remove("modal-overlay-show"))})}var mapOpen=document.querySelector(".js-open-map");if(mapOpen){var mapPopup=document.querySelector(".modal-content-map"),mapClose=mapPopup.querySelector(".close-btn"),mapOverlay=document.querySelector(".modal-overlay");mapOpen.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.add("modal-content-show"),mapOverlay.classList.add("modal-overlay-show")}),mapClose.addEventListener("click",function(a){a.preventDefault(),mapPopup.classList.remove("modal-content-show"),mapOverlay.classList.remove("modal-overlay-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&mapPopup.classList.contains("modal-content-show")&&(mapPopup.classList.remove("modal-content-show"),mapOverlay.classList.remove("modal-overlay-show"))})}var cartOpenList=document.querySelectorAll(".bookmark");if(cartOpenList){for(var cartPopup=document.querySelector(".modal-content-cart"),cartClose=cartPopup.querySelector(".close-btn"),iList=0;iList<cartOpenList.length;iList++)cartOpenList[iList].addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.add("modal-content-show"),overlay.classList.add("modal-overlay-show")});cartClose.addEventListener("click",function(a){a.preventDefault(),cartPopup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show")}),window.addEventListener("keydown",function(a){27===a.keyCode&&cartPopup.classList.contains("modal-content-show")&&(cartPopup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show"))})}
